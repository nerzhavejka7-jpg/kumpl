import{aX as d}from"./vendor.7bd6b934.js";import"./axios.98430d30.js";function g(){function p(e){try{new e}catch(t){if(t.message.indexOf("is not a constructor")>=0)return!1}return!0}function l(){return JSON.parse(localStorage.getItem("toggled"))||[]}function f(e,t){if(e.target){const c=e.target.closest(t),r=e.target.id,o=l();e.target.checked?(o.find(s=>s===r)||o.push(r),c.classList.add("active")):(c.classList.remove("active"),o&&o.find(s=>s===r)&&o.splice(o.indexOf(r),1));const i=[...new Set(o)];localStorage.setItem("toggled",JSON.stringify(i)),window.course_id&&fetch(`/api/v1/public/courses/${window.course_id}/collapses`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({collapses:i})})}}window.toggle=f,document.querySelectorAll(".title_reason").forEach(e=>{e.innerHTML=e.innerHTML.replaceAll(":date",e.classList.contains("title_reason_red")?`<span>${e.dataset.date}</span>`:e.dataset.date)}),l().forEach(e=>{if(e==="program")return;const t=document.querySelector(`#${e}`);t&&setTimeout(()=>{t.checked||t.click()},200)});const a=e=>{const t=e.closest(".course__preview-module:not(.active)");t&&(t.querySelector(".collapse-input").click(),setTimeout(()=>{a(t)},0))},u=e=>{a(e);const t=document.querySelector(".course-program-container__scroll");if(document.querySelector(".only-program")){e.scrollIntoView();return}if(t){const{top:r}=t.getBoundingClientRect(),{top:o}=e.getBoundingClientRect();p(d)&&new d(t).getScrollElement().scrollTo({top:o-r,behavior:"smooth"})}},n=document.querySelector(".course__preview-module-handler_lesson_active");if(window.innerWidth<=1300){const e=document.querySelector(".course-program-input");e&&(e.checked=!1,e.addEventListener("click",()=>{n&&setTimeout(()=>{n.scrollIntoView({block:"center",behavior:"smooth"})},300)})),n&&u(n)}else n&&u(n)}window.initToggle=g;g();
//# sourceMappingURL=toggle.ccec2021.js.map
