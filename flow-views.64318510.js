var F=Object.defineProperty,M=Object.defineProperties;var N=Object.getOwnPropertyDescriptors;var T=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var O=(a,t,e)=>t in a?F(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e,n=(a,t)=>{for(var e in t||(t={}))U.call(t,e)&&O(a,e,t[e]);if(T)for(var e of T(t))B.call(t,e)&&O(a,e,t[e]);return a},l=(a,t)=>M(a,N(t));var v=(a,t,e)=>(O(a,typeof t!="symbol"?t+"":t,e),e);var d=(a,t,e)=>new Promise((s,i)=>{var c=p=>{try{u(e.next(p))}catch(_){i(_)}},o=p=>{try{u(e.throw(p))}catch(_){i(_)}},u=p=>p.done?s(p.value):Promise.resolve(p.value).then(c,o);u((e=e.apply(a,t)).next())});import{n as C,$ as H,p as $,c2 as D,k as A,E as Z,i as W}from"./lesson.a44e2551.js";import{a as h,b as g,A as R,P as b}from"./PublicModalButtonPrev.4f5b385f.js";import{P as w}from"./PublicModalDescription.c7195a64.js";import{d as I,a as z}from"./axios.98430d30.js";import{P as k}from"./PublicModalButtonsContainer.1986bf82.js";import{W as j}from"./timeout-worker.f67d3bc8.js";import{j as Y}from"./vendor.7bd6b934.js";import{D as L}from"./DefaultPasswordInput.9c254cbb.js";const m={STATIC_AUTHORIZATION:{key:"STATIC_AUTHORIZATION",data:{username:"",settings:null}},AUTHORIZATION_BY_CODE:{key:"AUTHORIZATION_BY_CODE",data:{mask:"",channel:"",username:"",hash:"",is_restore:!1}},AUTHORIZATION_PASSWORD:{key:"AUTHORIZATION_BY_PASSWORD",data:{mask:"",channel:"",username:"",hash:""}},RESTORE_ACCOUNT:{key:"RESTORE_ACCOUNT",data:{username:"",reset_hash:""}},ACCOUNT_RESTORED:{key:"ACCOUNT_RESTORED",data:{redirect_url:""}},PROJECT_CREATION:{key:"PROJECT_CREATION",data:{}},PRODUCT_PRERECORDING:{key:"PRODUCT_PRERECORDING",data:{productId:null}},DYNAMIC_FLOW:{key:"DYNAMIC_FLOW",data:{step:null}}};const q={name:"MountainsInformImg"};var G=function(){var t=this,e=t._self._c;return e("svg",{attrs:{width:"150",height:"112",viewBox:"0 0 150 112",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M66.5616 106.19C60.7242 109.091 53.8806 109.327 47.4048 108.501C34.868 106.901 22.2077 100.873 15.9741 89.9659C13.2852 85.2613 11.9272 79.9267 10.9811 74.6007C9.71752 67.4878 9.20709 59.8411 12.3823 53.3414C15.0591 47.8621 20.0266 43.8749 24.9758 40.2729C30.1628 36.4979 35.7818 32.8275 42.1702 32.0731C60.5986 31.7111 58.7318 38.5777 77.9774 27.6567C83.5722 24.4819 100.206 29.9316 105.826 31.7111C111.447 33.4906 122.537 38.9807 130.058 45.5025C133.202 48.2285 136.102 51.3484 137.869 55.1013C140.514 60.7203 140.386 67.2661 139.152 73.3456C137.907 79.4778 135.204 85.8557 129.713 88.9331C127.233 90.3234 124.373 90.9198 121.533 91.148C109.673 92.1009 97.0566 87.0786 86.2034 91.9166C78.7733 95.2286 73.8445 102.57 66.5616 106.19Z",fill:"#C9DEFF"}}),e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M22.092 55.7146C24.3206 53.5372 26.4152 51.2922 27.8248 49.3356C29.7652 46.6423 32.6101 44.0815 35.9813 43.5874C39.9125 43.0113 43.523 45.6996 46.3808 48.4387C50.3288 52.2229 53.8718 56.4223 56.9314 60.944C55.7041 61.1025 53.0595 62.9182 49.5449 62.8606C47.476 62.8267 45.0044 60.9979 42.6151 60.8758C40.9556 60.791 39.1439 62.514 37.4728 62.3826C34.551 62.1528 31.8182 60.0191 29.3535 59.6331C27.8852 59.4032 25.9036 60.8508 24.7749 60.5604C21.6731 59.7624 20.7538 57.022 22.092 55.7146Z",fill:"white"}}),e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M88.9198 89.5899C98.5516 86.4398 108.989 90.0905 119.13 89.9558C123.622 89.8961 128.425 88.9126 131.518 85.6797C124.744 81.7234 119.602 75.4318 115.856 68.576C112.111 61.7202 109.648 54.2616 107.206 46.8498C103.992 45.0323 99.8558 48.1059 96.3284 47.0005C94.5259 46.4357 92.3732 44.9012 91.0797 46.2685C90.2989 47.0938 88.8447 46.6083 88.0852 45.7636C87.3258 44.9189 86.9027 43.796 86.0463 43.048C85.1899 42.3001 83.5645 42.2058 83.1287 43.2518C82.3743 45.0626 81.5791 46.9329 80.1327 48.2672C78.6863 49.6015 76.3931 50.2456 74.699 49.2381C73.3757 48.4511 72.7511 46.9197 71.9803 45.5939C71.2094 44.2681 70.9088 43.0761 69.376 43.2518C64.1984 54.0721 60.3329 64.7089 53.9634 74.8843C51.2264 79.2568 35.9126 95.9248 27.0144 93.7766C18.1162 91.6284 18.7764 89.9558 15.7715 87.3144C18.9016 93.6308 24.4312 98.6006 30.7448 101.813C37.0584 105.025 44.13 106.57 51.2035 107.128C53.9947 107.348 56.8256 107.417 59.573 106.882C70.8324 104.687 78.0221 93.1539 88.9198 89.5899Z",fill:"white"}}),e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M79.2637 47.3869C80.2503 46.1225 80.8668 44.6014 81.8834 43.3605C82.9 42.1197 84.5508 41.1578 86.0887 41.6371C87.5198 42.0831 88.3071 43.5642 88.9452 44.9107C89.2656 45.5868 90.2395 45.6392 90.9413 45.3681C91.6431 45.097 92.2741 44.6068 93.0229 44.5257C94.572 44.3581 95.7388 45.9498 97.2527 46.3163C99.5055 46.8617 101.77 44.5814 103.996 45.2249C104.939 45.4972 105.754 46.2785 106.733 46.2117C104.85 41.7348 103.432 37.0728 101.455 32.636C99.4781 28.1991 96.8708 23.9167 93.0753 20.8577C92.685 20.5432 92.2579 20.2318 91.7591 20.1687C91.2603 20.1056 90.6824 20.3865 90.595 20.8777C90.3352 22.338 90.0753 23.7982 89.8155 25.2585C89.6868 25.9814 89.3471 26.889 88.6071 26.8753C88.1141 26.8662 87.7355 26.3867 87.6676 25.9022C87.5997 25.4177 87.7634 24.934 87.9247 24.4718C88.4301 23.0235 88.9355 21.5752 89.4409 20.127C85.9734 21.368 82.9679 23.6716 80.4764 26.3665C77.985 29.0613 75.9701 32.1499 74.0388 35.2644C72.3853 37.931 70.7834 40.6291 69.2344 43.3568C71.3116 43.0643 73.1208 44.7561 74.2961 46.4799C74.9993 47.5114 75.8366 48.7402 77.0919 48.7356C77.9769 48.7324 78.7219 48.0811 79.2637 47.3869Z",fill:"white"}}),e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M92.7069 16.2171C92.477 16.1436 92.2357 16.0601 92.079 15.8774C91.8536 15.6146 91.8682 15.2308 91.8951 14.8868C92.1606 11.4881 92.4262 8.08932 92.6918 4.69056C92.7225 4.29673 93.1114 4.00662 93.5048 3.94874C93.8982 3.89086 94.2941 4.00947 94.6742 4.12669C97.1257 4.88283 99.5772 5.63898 102.029 6.39513C102.627 6.57967 102.659 7.4043 102.534 8.01344C102.408 8.62258 102.314 9.40477 102.85 9.72757C106.426 11.8822 110.226 13.6701 114.169 15.0537C114.424 15.1431 114.443 15.5279 114.265 15.7297C114.087 15.9314 113.803 15.9964 113.539 16.0522C109.537 16.8975 105.622 18.1423 101.871 19.7618C101.346 19.9884 100.66 20.1953 100.264 19.7846C99.9815 19.4924 100.008 19.0359 99.9842 18.6319C99.96 18.228 99.7802 17.7442 99.376 17.6929C97.1139 17.4058 94.8783 16.9111 92.7069 16.2171ZM101.096 9.33461C101.644 8.473 101.252 7.16978 100.318 6.74538C98.1031 5.73891 95.7788 4.97073 93.3988 4.45862C93.7947 5.06489 93.7742 5.84 93.7398 6.5613C93.6079 9.33096 93.472 12.1261 92.7458 14.8026C92.683 15.034 92.9829 15.1848 93.2186 15.2373C95.3294 15.7074 97.4559 16.1073 99.5935 16.4361C99.416 14.3903 99.2384 12.3444 99.0609 10.2986C99.0412 10.0712 99.0229 9.83371 99.1099 9.62264C99.251 9.28067 99.6431 9.09503 100.015 9.08479C100.387 9.07454 100.747 9.20552 101.096 9.33461ZM100.64 10.9367C100.81 13.3381 100.98 15.7394 101.149 18.1408C101.164 18.3513 101.189 18.5837 101.346 18.7263C104.753 17.3237 108.283 16.2144 111.883 15.4151C107.981 14.2998 104.687 11.2538 100.64 10.9367Z",fill:"#FF7439"}}),e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M66.562 106.189C60.7246 109.09 53.881 109.327 47.4053 108.5C34.8685 106.901 22.2081 100.873 15.9745 89.9657C13.2857 85.2611 11.9276 79.9265 10.9815 74.6005C10.4625 71.6786 9.45439 67.3024 11.3002 65.3161C11.7127 64.8723 23.299 55.6172 27.8248 49.3353C29.7651 46.642 32.6101 44.0812 35.9812 43.5872C39.9125 43.011 43.523 45.6994 46.3807 48.4385C50.3287 52.2226 53.8718 56.4221 56.9314 60.9437C53.5598 59.523 51.1332 56.5702 48.8936 53.6949C46.654 50.8195 44.3398 47.8109 41.061 46.1904C37.7822 44.5699 33.229 44.8398 31.0995 47.7964C26.024 54.8432 19.6036 60.9336 12.2798 65.6486C11.7289 66.0032 11.6791 66.77 11.6895 67.4213C11.8085 74.9393 12.6559 83.5009 18.7194 88.0134C23.7838 91.7824 31.1355 91.2906 36.6831 88.264C42.2307 85.2373 46.2879 80.118 49.7711 74.8737C59.9885 59.4902 66.623 41.9063 77.605 27.0502C80.1296 23.635 83.1039 20.2197 87.1713 18.9323C89.8854 18.0732 90.6463 14.6382 90.5963 11.8128C90.5464 8.98751 90.2769 5.77527 92.2547 3.74146C91.8379 8.43983 91.421 13.1382 91.0041 17.8366C97.079 20.8281 100.627 27.1975 103.231 33.4092C107.098 42.6333 109.723 52.3422 113.794 61.4795C117.865 70.6168 123.644 79.3965 132.186 84.6887C136.14 79.5828 138.394 71.409 138.394 66.7379C136.14 64.3003 132.937 60.4871 129.189 58.7701C124.722 56.7233 119.822 60.3117 116.233 63.6513C118.217 60.6569 120.598 57.5049 124.107 56.6569C126.94 55.9723 129.972 56.9934 132.322 58.7049C134.673 60.4164 136.465 62.7589 138.222 65.067C139.999 65.6486 140.386 67.2659 139.152 73.3454C137.907 79.4776 135.204 85.8554 129.714 88.9329C127.233 90.3232 124.373 90.9196 121.533 91.1478C109.673 92.1007 97.0571 87.0784 86.2038 91.9163C78.7738 95.2284 73.8449 102.57 66.562 106.189ZM88.9198 89.5901C98.5516 86.4401 108.989 90.0908 119.13 89.956C123.623 89.8963 128.425 88.9128 131.518 85.68C124.744 81.7237 119.602 75.4321 115.856 68.5763C112.111 61.7205 109.648 54.2619 107.206 46.85C103.992 45.0326 99.8558 48.1061 96.3284 47.0008C94.5259 46.4359 92.3732 44.9015 91.0797 46.2687C90.2989 47.094 88.8447 46.6085 88.0852 45.7638C87.3258 44.9191 86.9027 43.7962 86.0463 43.0483C85.19 42.3003 83.5645 42.2061 83.1287 43.2521C82.3743 45.0628 81.5791 46.9331 80.1327 48.2675C78.6863 49.6018 76.3931 50.2459 74.699 49.2384C73.3757 48.4514 72.7511 46.9199 71.9803 45.5941C71.2095 44.2683 69.9328 42.9428 68.4 43.1185C63.2224 53.9388 57.4306 64.4699 51.0611 74.6452C48.324 79.0177 45.4272 83.3861 41.507 86.758C37.5869 90.1299 32.4677 92.4363 27.3005 91.9673C23.1307 91.5889 19.3431 89.4824 15.7715 87.3146C18.9016 93.631 24.4312 98.6008 30.7448 101.813C37.0584 105.025 44.13 106.57 51.2035 107.128C53.9947 107.348 56.8256 107.417 59.573 106.882C70.8324 104.687 78.0221 93.1541 88.9198 89.5901ZM79.0644 46.5926C80.0511 45.3282 80.6676 43.8071 81.6842 42.5662C82.7008 41.3254 84.3516 40.3635 85.8895 40.8428C87.3206 41.2887 88.1079 42.7698 88.746 44.1164C89.0664 44.7925 90.0403 44.8449 90.7421 44.5738C91.4439 44.3027 92.0749 43.8125 92.8237 43.7314C94.3728 43.5637 95.5396 45.1555 97.0535 45.522C99.3063 46.0674 101.571 43.7871 103.797 44.4306C104.739 44.7029 105.555 45.4841 106.534 45.4174C104.651 40.9405 103.243 36.5323 101.266 32.0954C99.2892 27.6585 94.9951 19.812 91.5599 19.3743C88.0857 18.9317 82.7687 22.8773 80.2772 25.5722C77.7858 28.267 75.7709 31.3556 73.8396 34.47C72.1861 37.1367 70.5842 39.8348 69.0352 42.5625C71.1124 42.2699 72.9216 43.9618 74.0969 45.6856C74.8001 46.7171 75.6373 47.9459 76.8926 47.9413C77.7777 47.9381 78.5227 47.2868 79.0644 46.5926Z",fill:"#00160A"}}),e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M63.7523 10.6132C61.57 10.8329 59.7898 12.7333 58.8908 15.3052C58.6571 15.9737 57.8898 16.2824 56.5436 16.4111L56.4587 16.4189C53.478 16.6825 51.4993 17.444 50.5453 19.1847L50.5054 19.2592C50.4278 19.4072 50.3613 19.555 50.2641 19.7886L50.2014 19.9407C49.9762 20.4895 49.8611 20.7218 49.6684 20.9634C49.0683 21.7158 48.1654 21.9474 46.3585 22.0012L46.1577 22.0064C41.8287 22.102 38.7703 22.7545 36.2929 24.4706C35.5842 24.9616 35.1622 25.4489 35.0678 26.0734C34.9595 26.7893 35.3787 27.5305 36.0481 27.9374C36.5838 28.2631 37.2262 28.3917 38.0286 28.394C39.0047 28.3969 39.9809 28.2283 40.8987 27.8984L40.9751 27.8706C41.1133 27.8197 41.2445 27.768 41.4392 27.6879L41.8518 27.5171C42.6982 27.1698 43.1089 27.0466 43.6239 27.0198C44.4184 26.9785 45.0454 27.1865 46.3805 27.8336L46.6614 27.9703C46.952 28.1113 47.1617 28.2097 47.3674 28.299L47.4234 28.3232C49.6633 29.2829 51.9533 29.4434 55.6727 29.1621L56.4065 29.1033L58.0318 28.9669C58.4585 28.9325 58.7639 28.9105 59.1158 28.8884L59.4553 28.8686C60.9041 28.7903 62.4506 28.789 64.976 28.839L66.7129 28.875C70.194 28.9431 71.7633 28.9247 73.4364 28.7539C75.3801 28.5554 76.646 27.2092 77.165 25.2149C77.5856 23.5986 77.4327 21.7126 76.8466 20.8165C75.6763 19.0271 73.9297 17.9493 72.3226 18.446C71.7899 18.6106 71.1197 18.2226 70.7778 17.586C70.592 17.2402 70.4978 16.9283 70.3429 16.2294L70.268 15.8912C70.2247 15.7 70.193 15.5721 70.153 15.4284C69.6077 13.4714 68.1188 11.8003 66.2278 11.0231C65.398 10.6821 64.5537 10.5325 63.7523 10.6132ZM65.9975 11.5725C67.6886 12.2675 69.0319 13.7547 69.5481 15.4962L69.5741 15.5865C69.6113 15.72 69.6413 15.841 69.6829 16.0251L69.7755 16.4427C69.9313 17.1361 70.0366 17.4723 70.2477 17.8653C70.703 18.7131 71.6172 19.2538 72.4506 19.0282L72.5005 19.0137C73.7898 18.6153 75.3017 19.5483 76.3427 21.1399C76.8262 21.8791 76.9655 23.5976 76.5835 25.0657C76.1219 26.8395 75.0386 27.9915 73.3744 28.1614L73.1879 28.1799C71.6554 28.3261 70.1311 28.3436 66.9873 28.2846L64.6919 28.2379C62.3245 28.1935 60.8311 28.1977 59.4213 28.2739L58.8684 28.3075C58.4736 28.3337 58.0973 28.363 57.4824 28.4146L55.7876 28.5558C52.1166 28.8428 49.8846 28.7053 47.7547 27.8161L47.6608 27.7764C47.4828 27.7002 47.305 27.6183 47.0717 27.5063L46.5449 27.2508C45.1837 26.5961 44.5011 26.3778 43.5919 26.4251C42.9704 26.4574 42.5056 26.6012 41.5415 26.9998L41.1151 27.176C40.9464 27.2446 40.8287 27.2899 40.6937 27.3384C39.842 27.6446 38.9357 27.8011 38.0298 27.7984C37.3276 27.7964 36.7863 27.688 36.3611 27.4296C35.8839 27.1395 35.591 26.6215 35.6606 26.1613C35.7243 25.7402 36.0502 25.3638 36.6359 24.9581C38.9624 23.3465 41.8707 22.7112 46.0024 22.605L46.1706 22.6009C48.2902 22.5541 49.3629 22.3045 50.1384 21.3321C50.3581 21.0567 50.4874 20.8099 50.6972 20.308L50.8596 19.9167C50.9418 19.7229 50.9999 19.5999 51.0719 19.4685C51.8765 18.0005 53.6102 17.2997 56.2707 17.0339L56.5114 17.0112C58.1055 16.8702 59.0753 16.5035 59.4376 15.5531L59.4571 15.4997C60.2877 13.1238 61.9053 11.3968 63.8123 11.2049C64.4777 11.1379 65.1896 11.2559 65.9006 11.5336L65.9975 11.5725Z",fill:"#00160A"}}),e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M128.781 22.9287L128.707 23.0021C128.65 23.0593 128.595 23.1185 128.526 23.1943L128.251 23.5007C127.989 23.7915 127.848 23.9301 127.663 24.0687C127.259 24.3706 126.776 24.4639 126.455 24.2855C126.326 24.2138 126.23 24.1198 126.044 23.8934L125.906 23.7245C125.834 23.6379 125.783 23.581 125.72 23.5181C124.892 22.6905 123.445 22.6505 122.345 23.3093C121.483 23.8249 120.864 24.6148 120.186 25.8714C119.909 26.3847 119.3 26.7396 118.576 26.8482C118.224 26.9009 117.854 26.9048 117.38 26.87L117.149 26.8508L116.421 26.7776C112.592 26.403 108.676 26.9397 105.092 28.3302C104.527 28.5496 104.212 28.7463 104.013 29.1125C103.725 29.6404 104.017 30.4065 104.631 30.4403C115.135 31.0176 125.683 30.8203 136.157 29.8508L136.822 29.7889L137.307 29.7559C137.352 29.7525 137.389 29.7494 137.436 29.7453L137.56 29.733C138.516 29.6279 139.04 29.3135 139.04 28.5254C139.04 27.7642 138.67 27.556 137.736 27.4616L137.549 27.4421C137.188 27.4029 137.022 27.3735 136.799 27.3049C136.007 27.0615 135.064 26.554 134.858 26.3005C134.553 25.9255 134.423 25.5726 134.238 24.7522L134.18 24.4927C133.985 23.6476 133.83 23.2445 133.464 22.7924C132.394 21.4726 130.11 21.6341 128.781 22.9287ZM132.995 23.1646C133.299 23.5395 133.429 23.8924 133.614 24.7114L133.672 24.9712C133.867 25.8176 134.022 26.2207 134.39 26.6731C134.687 27.0389 135.725 27.5974 136.621 27.8727L136.703 27.8971C136.917 27.9584 137.097 27.9896 137.411 28.025L137.825 28.0692C138.353 28.1311 138.439 28.2056 138.439 28.5247C138.439 28.9129 138.156 29.0758 137.442 29.1462L137.259 29.1618L136.803 29.1926C136.781 29.1942 136.76 29.1959 136.74 29.1976L136.681 29.203C126.045 30.2168 115.332 30.4317 104.664 29.8453C104.542 29.8386 104.441 29.575 104.54 29.3948C104.65 29.1918 104.87 29.0544 105.31 28.8837C108.745 27.5508 112.495 27.0221 116.168 27.3511L116.617 27.3952L116.989 27.4329C117.075 27.4413 117.147 27.4478 117.227 27.4543C117.792 27.501 118.233 27.5005 118.664 27.4359C119.561 27.3015 120.338 26.8489 120.714 26.1514C121.345 24.9814 121.907 24.2652 122.654 23.8182C123.535 23.2907 124.678 23.3224 125.293 23.9366L125.329 23.9734C125.358 24.0046 125.388 24.0382 125.425 24.0817L125.54 24.2218C125.797 24.5391 125.934 24.6782 126.161 24.8042C126.72 25.1143 127.448 24.9738 128.023 24.543C128.234 24.3849 128.39 24.2359 128.646 23.9536L128.966 23.5971C129.059 23.4951 129.124 23.4266 129.2 23.3525C130.298 22.2831 132.173 22.1505 132.995 23.1646Z",fill:"#00160A"}}),e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M90.5959 11.8136C90.5459 8.98824 90.2765 5.77601 92.2543 3.74219C91.8374 8.44056 91.4205 13.1389 91.0037 17.8373C91.6806 18.1707 90.671 18.7283 90.0592 18.7395C87.8675 18.7797 90.6458 14.6389 90.5959 11.8136Z",fill:"#FF7439"}})])},X=[],J=C(q,G,X,!1,null,"2248a74a",null,null);const x=J.exports,K={components:{PublicModalDescription:w,PublicModalButtonNext:h,MountainsInformImg:x,SpinLoader:H,FlexContainer:$,PublicModalTitle:g},props:{data:{type:Object,default:()=>({productId:"0"})}},name:"InformProductPrerecording",data(){return{message:"",loading:!0}},created(){return d(this,null,function*(){try{this.loading=!0;const{token:a,app_current_locale:t}=window;yield I.create({baseURL:"/api/v1/",withCredentials:!0,headers:{common:{Authorization:`Bearer ${a}`,"X-Language":t}}}).post(`/products/${this.data.productId}/users/pre-subscribe`),this.loading=!1}catch(a){a.response.data.message?this.message=a.response.data.message:this.message="Error"}})},computed:{success(){return!this.loading&&!this.message}},methods:{gate(){window.location="/profile/gate"}}};var Q=function(){var t=this,e=t._self._c;return e("div",{staticClass:"inform-account-restored"},[e("public-modal-title",[t._v(" "+t._s(t.$t(t.success?"congratulations":"prerecording"))+" ")]),t.success?e("public-modal-description",{staticClass:"mt-10"},[t._v(" "+t._s(t.$t("prerecording_success"))+" ")]):t._e(),e("flex-container",{staticClass:"mt-20",staticStyle:{height:"100px"},attrs:{align:"center",justify:"center"}},[t.success?e("MountainsInformImg"):e("SpinLoader")],1),t.success?e("PublicModalButtonNext",{staticClass:"mt-30",attrs:{text:t.$t("next")},on:{click:t.gate}}):t._e(),t.message?e("div",{staticClass:"error"},[t._v(" "+t._s(t.message)+" ")]):t._e()],1)},V=[],tt=C(K,Q,V,!1,null,null,null,null);const et=tt.exports,f=I.create({baseURL:"/api/v1/",withCredentials:!0,headers:{"X-Language":window.app_current_locale}}),st=a=>a.map(t=>l(n({},t),{text:t.title,value:""})),at=window.auth_settings_url||"public/auth/settings";class r{static settings(){return d(this,null,function*(){const t=yield f.get(at);return t.data.data.step_2.fields=st(t.data.data.step_2.fields),t.data.data})}static register(s){return d(this,arguments,function*({payload:t,url:e}){return this.TariffId&&t.append("tariff_id",this.TariffId),this.multiplier&&t.append("multiplier",this.multiplier),this.WebinarTariffId&&t.append("webinar_tariff_id",this.WebinarTariffId),f.post(e,t,{headers:{"Content-Type":"multipart/form-data"}})})}static login(s){return d(this,arguments,function*({username:t,url:e="auth/login"}){return f.post(e,{username:t})})}static quick(s){return d(this,arguments,function*({fields:t,url:e="auth/login"}){return f.post(e,t,{headers:{"Content-Type":"multipart/form-data"}})})}static loginConfirm(c){return d(this,arguments,function*({username:t,code:e,password:s,hash:i}){let o={username:t,code:e,hash:i,password:s};return this.TariffId&&(o=l(n({},o),{tariff_id:this.TariffId})),this.multiplier&&(o=l(n({},o),{multiplier:this.multiplier})),this.WebinarTariffId&&(o=l(n({},o),{webinar_tariff_id:this.WebinarTariffId})),f.post("auth/login/confirm",o)})}static restore(e){return d(this,arguments,function*({username:t}){return f.post("auth/restore",{username:t})})}static restoreConfirm(i){return d(this,arguments,function*({username:t,code:e,hash:s}){return f.post("auth/restore/confirm",{username:t,code:e,hash:s})})}static setPassword(i){return d(this,arguments,function*({password:t,password_confirmation:e,reset_hash:s}){return f.post("auth/restore/set-password",{password:t,password_confirmation:e,reset_hash:s})})}}v(r,"loginAction",null),v(r,"TariffId",null),v(r,"multiplier",null),v(r,"WebinarTariffId",null);const y={CODE:"code",PASSWORD:"password",REGISTRATION:"registration",CHECK_ACCESS:"check_access"},it="/api/v1/",rt=new URLSearchParams(location.search),ot={name:"AuthorizationStaticFlow",props:{data:{type:Object,default:()=>({username:"",settings:null})}},components:{ExtendedRenderHtml:D,AuthorizationDynamicFields:R,FlexContainer:$,DefaultInput:A,PublicModalTitle:g,PublicModalDescription:w,PublicModalButtonNext:h},data(){return{formData:{username:""},errors:{},message:"",settings:null,socialHandlerCalled:!1}},created(){return d(this,null,function*(){Z.$on(`${W}_OPEN`,()=>{setTimeout(()=>{this.$refs.emailInput&&this.$refs.emailInput.focusOnInput()},200)});const a=rt.get("email");if(a&&(this.data.username=a),this.formData=l(n({},this.formData),{username:this.data.username}),this.data.settings){this.settings=this.data.settings;return}this.$emit("loading",!0);try{const t=yield r.settings();t&&(this.settings=t,t&&t.step_1&&t.step_1.fields.length===1&&t.step_1.fields[0].value&&(this.formData.username=t.step_1.fields[0].value))}catch(t){console.log(t)}finally{this.$emit("loading",!1)}})},computed:{isQuickAuth(){return this.settings.register_type_id===2},step(){return this.settings?this.settings.step_1:null}},methods:{isRequiredFieldsFilled(a){return!a.filter(t=>t.is_required&&!t.value).length},isDisabled(){return!1},handleSocial(a){this.$emit("loading",!0),window.addEventListener("message",this.loginSocialHandler);const t=window.innerWidth<=960,e=t?window.innerWidth:window.innerWidth-460,s=t?window.innerHeight:window.innerHeight-100,i=t?0:100,c=t?0:230;a==="facebook"&&window.dataLayer&&window.dataLayer.push({event:window.app_subdomain?"school-auth-fb-btn":"auth-fb-btn"}),a==="google"&&window.dataLayer&&window.dataLayer.push({event:window.app_subdomain?"school-auth-go-btn":"auth-go-btn"});const o=window.open(`/auth/${a}?settings_id=${this.settings.id}`,"_blank",`width=${e},height=${s},top=${i},left=${c}`),u=setInterval(()=>{(o&&o.closed||!o)&&(this.$emit("loading",!1),clearInterval(u))},1e3)},loginSocialHandler(a){return d(this,null,function*(){if(this.socialHandlerCalled||(this.socialHandlerCalled=!0,setTimeout(()=>{this.socialHandlerCalled=!1},1e3),!a.data||typeof a.data!="string"))return;const t=JSON.parse(a.data);if(!t||t.event!=="LOGGED_BY_SOCIAL")return;const e=t.detail.data,{redirect_url:s,bearer:i,success:c,next_step:o,user_data:u}=e;if(window.is_custom_domain){this.$emit("loading",!0);const p=I.create({baseURL:it,headers:{common:{Authorization:`Bearer ${i.token}`,"X-Language":window.app_current_locale}}});try{yield p.get("/auth/web-by-api")}catch(_){console.log(_)}finally{this.$emit("loading",!1)}}if(c&&i&&s&&(i.token?(localStorage.setItem("token",i.token),typeof r.loginAction=="function"?r.loginAction({token:i.token}):window.location=s):window.location=s),o==="registration_socials"&&u){this.$emit("loading",!0);const p=`${this.step.step_2_fields_endpoint}?user_social_account_id=${u.id}`;try{const _=yield z.get(p);if(_){const{fields:P,registration_endpoint:E}=_.data.data,{username:S}=this.formData;this.$emit("set",l(n({},m.DYNAMIC_FLOW),{previous:l(n({},m.STATIC_AUTHORIZATION),{data:{username:S,settings:this.settings}}),data:{step:l(n({},this.settings.step_2),{registration_endpoint:E,fields:[...P,{is_hidden:!0,name:"user_social_account_id",value:u.id}]})}}))}}catch(_){console.log(_)}finally{this.$emit("loading",!1)}}})},submit(){return d(this,null,function*(){this.$emit("loading",!0);try{const{username:a}=this.formData;window.auth_check_access&&(r.loginAction=()=>{let e=new URL(window.location.href);e.searchParams.append("check_access","1"),window.location=e.toString()});let t=null;if(this.isQuickAuth?t=yield r.quick({fields:this.mapFieldsToPayload(),url:this.step.registration_endpoint}):t=yield r.login({username:a,url:"auth/login"}),t){const{channel:e,mask:s,hash:i,next_step:c}=t.data,o=function(){switch(c){case y.CODE:return m.AUTHORIZATION_BY_CODE;case y.PASSWORD:return m.AUTHORIZATION_PASSWORD;case y.CHECK_ACCESS:{let u=new URL(window.location.href);return u.searchParams.append("check_access","1"),window.location=u.toString(),null}case y.REGISTRATION:return window.dataLayer&&window.dataLayer.push({event:window.app_subdomain?"school-auth-btn1":"auth-btn1"}),m.DYNAMIC_FLOW;default:return null}}(c);o&&(c===y.REGISTRATION?this.$emit("set",l(n({},o),{previous:l(n({},m.STATIC_AUTHORIZATION),{data:{username:a,settings:this.settings}}),data:{step:l(n({},this.settings.step_2),{fields:[...this.settings.step_2.fields,...this.step.fields.map(u=>l(n({},u),{is_hidden:!0,value:a})),{is_hidden:!0,name:"hash",value:i||""}]})}})):this.$emit("set",l(n({},o),{previous:l(n({},m.STATIC_AUTHORIZATION),{data:{username:a,settings:this.settings}}),data:{mask:s,channel:e,username:a,hash:i}})))}}catch(a){const{message:t,errors:e,error_type:s}=a.response.data;this.message=t||s,e?this.errors=e:this.errors={}}finally{this.$emit("loading",!1)}})},mapFieldsToPayload(){const a=new FormData;return this.step.fields.forEach(t=>{t.type==="timezone"||t.type==="currency"||t.type==="dropdown"||t.type==="country"?t.value&&a.append(t.name,t.value.id||""):a.append(t.name,t.value||"")}),a},displayMessage(){return this.message&&!Object.keys(this.errors).length}},destroyed(){window.removeEventListener("message",this.loginSocialHandler)},watch:{step:{deep:!0,handler(){this.$forceUpdate()}}}};var nt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"authorization-flow authorization-flow-static"},[t.step?e("div",[e("public-modal-title",{staticClass:"mb-30"},[t._v(" "+t._s(t.step.title)+" ")]),e("form",{on:{submit:function(s){s.preventDefault(),s.stopPropagation()}}},[t.step.fields.length&&t.isQuickAuth?e("AuthorizationDynamicFields",{attrs:{errors:t.errors,fields:t.step.fields},nativeOn:{keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.submit.apply(null,arguments)}}}):t.step.fields.length?e("DefaultInput",{ref:"emailInput",attrs:{label:t.step.fields[0].input_title,"use-focus":!0,errors:t.errors.username,required:!0,autocomplete:"email",type:"email",name:"email"},nativeOn:{keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.submit.apply(null,arguments)}},model:{value:t.formData.username,callback:function(s){t.$set(t.formData,"username",s)},expression:"formData.username"}}):t._e(),t.displayMessage()?e("div",{staticClass:"error"},[t._v(" "+t._s(t.message)+" ")]):t._e(),e("div",{class:t.$screenWidth>480?"mb-30":"mb-20"}),t.step.fields.length?e("PublicModalButtonNext",{attrs:{disabled:t.isDisabled(),text:t.$t("next")},on:{click:t.submit}}):t._e(),t.step.socials.length?e("div",{staticClass:"socials-block"},[t.step.fields.length?e("div",{staticClass:"socials-block-or"},[e("div",{staticClass:"socials-block-delimiter"}),e("span",[t._v(t._s(t.$t("or")))]),e("div",{staticClass:"socials-block-delimiter"})]):t._e(),e("flex-container",{attrs:{justify:"center"}},t._l(t.step.socials.filter(s=>s!=="telegram"),function(s,i){return e("div",{key:i,staticClass:"socials-block-social",on:{click:function(c){return t.handleSocial(s)}}},[e("div",{staticClass:"socials-block-social__image"},[e("img",{attrs:{src:`/build/img/social/${s}.svg`,alt:""}})]),t._v(" "+t._s(s)+" ")])}),0)],1):t._e()],1),e("public-modal-description",{staticClass:"mt-16"},[e("ExtendedRenderHtml",{attrs:{html:`<pre class='text-view'> ${t.step.policy} </pre>`}})],1)],1):t._e()])},lt=[],ct=C(ot,nt,lt,!1,null,null,null,null);const dt=ct.exports;const ut={props:{data:{type:Object,default:()=>({mask:"",channel:"",username:"",hash:"",is_restore:!1})},previous:{type:Object,default:()=>{}}},name:"AuthorizationByCodeFlow",components:{PublicModalButtonPrev:b,PublicModalButtonsContainer:k,PublicModalButtonNext:h,DefaultInput:A,PublicModalDescription:w,PublicModalTitle:g},data(){return{formData:{code:""},errors:{code:[]},message:"",timer:0,interval:null,worker:null}},created(){try{this.worker=new j}catch(a){this.worker={},console.log(a)}this.timer=60,this.$emit("loading",!0),setTimeout(()=>{this.$emit("loading",!1)},500)},methods:{submit(){return d(this,null,function*(){this.$emit("loading",!0);try{const{code:a}=this.formData,{username:t,hash:e,is_restore:s}=this.data;if(s){const i=yield r.restoreConfirm({username:t,code:a,hash:e});if(i){const{reset_hash:c}=i.data;this.$emit("set",l(n({},m.RESTORE_ACCOUNT),{previous:l(n({},m.AUTHORIZATION_BY_CODE),{data:this.formData,previous:this.previous}),data:{reset_hash:c,username:t}}))}}else{const i=yield r.loginConfirm({username:t,code:a,hash:e});if(i){const{bearer:c,redirect_url:o}=i.data;localStorage.setItem("token",c.token),window.token=c.token,typeof r.loginAction=="function"?r.loginAction({token:c.token}):o?window.location=o:window.location.reload()}}}catch(a){const{message:t,errors:e}=a.response.data;this.message=t,e?this.errors=e:this.errors={code:[]}}finally{this.$emit("loading",!1)}})},send(){return d(this,null,function*(){const{username:a,is_restore:t}=this.data;if(this.$emit("loading",!0),t){const e=yield r.restore({username:a});e&&this.$set(this.data,"hash",e.data.hash)}else{const e=yield r.login({username:a});e&&this.$set(this.data,"hash",e.data.hash)}this.timer=60,this.$emit("loading",!1)})},displayMessage(){return this.message&&!this.errors.code.length}},watch:{timer(a){if(a&&!this.interval){const t=Y();this.worker.postMessage({name:"setInterval",id:t,time:1e3}),this.worker.onmessage=()=>{this.timer-=1},this.interval=t}else a||(this.worker.postMessage({name:"clearInterval",id:this.interval}),this.interval=null)}}};var mt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"auth-by-code"},[e("public-modal-title",{staticClass:"mb-6"},[t._v(" "+t._s(t.data.is_restore?t.$t("restore_account"):t.$t("authorization_platform"))+" ")]),e("public-modal-description",{staticClass:"mb-30",attrs:{large:""}},[t._v(" "+t._s(t.$t("on_your"))+" "),t.data.channel==="email"?[t._v(" "+t._s(t.$t("email"))+" ")]:t._e(),e("a",[t._v(t._s(t.data.mask))]),t._v(" "+t._s(t.$t("code_has_been_sent"))+" ")],2),e("form",{on:{submit:function(s){s.preventDefault(),s.stopPropagation()}}},[e("DefaultInput",{staticClass:"mb-6",attrs:{errors:t.errors.code,"use-focus":!0,type:"number",name:"one-time-code",autocomplete:"code",label:t.$t("enter_code")},model:{value:t.formData.code,callback:function(s){t.$set(t.formData,"code",s)},expression:"formData.code"}}),e("input",{attrs:{hidden:"",name:"email",autocomplete:"username email",type:"text"},domProps:{value:t.data.username}}),t.displayMessage()?e("div",{staticClass:"error mb-6"},[t._v(" "+t._s(t.message)+" ")]):t._e(),e("public-modal-description",{attrs:{large:"",align:"left"}},[t._v(" "+t._s(t.$t("code_is_valid"))+" "),e("b",[t._v("10 "+t._s(t.$t("minutes")))])]),t.timer!==0?e("public-modal-description",{attrs:{large:"",align:"left"}},[t._v(" "+t._s(t.$t("request_new_code"))+" "),e("strong",[t._v(t._s(t.timer)+" "+t._s(t.$t("sec")))])]):e("public-modal-description",{attrs:{large:"",align:"left"}},[e("a",{staticClass:"link",on:{click:function(s){return s.preventDefault(),t.send.apply(null,arguments)}}},[t._v(" "+t._s(t.$t("send_again"))+" ")])]),e("div",{staticClass:"mb-30"}),e("public-modal-buttons-container",[e("PublicModalButtonPrev",{attrs:{text:t.$t("back")},on:{click:function(s){return t.$emit("set",t.previous)}}}),e("PublicModalButtonNext",{attrs:{type:"submit",text:t.$t("next"),disabled:!t.formData.code},on:{click:t.submit}})],1)],1)],1)},pt=[],_t=C(ut,mt,pt,!1,null,"648e92c5",null,null);const ft=_t.exports;const Ct={props:{data:{type:Object,default:()=>({mask:"",channel:"",username:"",hash:""})},previous:{type:Object,default:()=>{}}},name:"AuthorizationByPasswordFlow",components:{PublicModalDescription:w,PublicModalButtonNext:h,PublicModalButtonPrev:b,PublicModalButtonsContainer:k,DefaultPasswordInput:L,PublicModalTitle:g},data(){return{formData:{password:""},errors:{password:[]},message:""}},methods:{restore(){this.$emit("loading",!0),setTimeout(()=>{this.$emit("set",l(n({},m.RESTORE_ACCOUNT),{previous:l(n({},m.AUTHORIZATION_PASSWORD),{data:this.formData,previous:this.previous}),data:{username:this.data.username}})),this.$emit("loading",!1)},500)},submit(){return d(this,null,function*(){this.$emit("loading",!0);try{const{password:a}=this.formData,{username:t,hash:e}=this.data,s=yield r.loginConfirm({username:t,password:a,hash:e});if(s){const{bearer:i,redirect_url:c,channel:o,hash:u,mask:p,next_step:_}=s.data;_&&_==="code"?this.$emit("set",l(n({},m.AUTHORIZATION_BY_CODE),{previous:l(n({},m.AUTHORIZATION_PASSWORD),{data:this.data,previous:this.previous}),data:{mask:p,channel:o,username:t,hash:u}})):(window.token=i.token,localStorage.setItem("token",i.token),typeof r.loginAction=="function"?r.loginAction({token:i.token}):c?window.location=c:window.location.reload())}}catch(a){console.log(a);const{message:t,errors:e}=a.response.data;this.message=t,e?this.errors=e:this.errors={password:[]}}finally{this.$emit("loading",!1)}})},displayMessage(){return this.message&&!this.errors.password.length}}};var ht=function(){var t=this,e=t._self._c;return e("div",{staticClass:"auth-by-password"},[e("form",{attrs:{autocomplete:"on"},on:{keydown:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.submit()},submit:function(s){s.stopPropagation(),s.preventDefault()}}},[e("input",{staticClass:"hidden-field",attrs:{name:"username",autocomplete:"username email",type:"text"},domProps:{value:t.data.username}}),e("public-modal-title",{staticClass:"mb-30"},[t._v(" "+t._s(t.$t("authorization_platform"))+" ")]),e("DefaultPasswordInput",{attrs:{"use-focus":!0,errors:t.errors.password,required:!0,name:"current-password",label:t.$t("enter_password")},model:{value:t.formData.password,callback:function(s){t.$set(t.formData,"password",s)},expression:"formData.password"}}),t.displayMessage()?e("div",{staticClass:"error"},[t._v(" "+t._s(t.message)+" ")]):t._e(),e("div",{staticClass:"mb-30 mt-10"},[e("public-modal-description",{attrs:{large:"",align:"left"}},[t._v(" "+t._s(t.$t("forgot_password"))+" "),e("a",{on:{click:function(s){return s.preventDefault(),t.restore.apply(null,arguments)}}},[t._v(t._s(t.$t("restore_access"))+" →")])])],1),e("public-modal-buttons-container",[e("PublicModalButtonPrev",{attrs:{text:t.$t("back")},on:{click:function(s){return t.$emit("set",t.previous)}}}),e("PublicModalButtonNext",{attrs:{text:t.$t("next"),disabled:!t.formData.password},on:{click:t.submit}})],1)],1)])},gt=[],wt=C(Ct,ht,gt,!1,null,"a6b28e64",null,null);const vt=wt.exports;const yt={components:{DefaultPasswordInput:L,PublicModalDescription:w,PublicModalButtonNext:h,PublicModalButtonPrev:b,PublicModalButtonsContainer:k,DefaultInput:A,PublicModalTitle:g},props:{data:{type:Object,default:()=>({username:"",reset_hash:""})},previous:{type:Object,default:()=>{}}},name:"AuthorizationRestoreFlow",data(){return{formData:{username:this.data.username,password:"",password_confirmation:""},errors:{username:[],password:[],password_confirmation:[]},message:""}},methods:{submit(){return d(this,null,function*(){this.$emit("loading",!0);try{if(this.data.reset_hash){const{password:a,password_confirmation:t}=this.formData,{reset_hash:e}=this.data,s=yield r.setPassword({password:a,password_confirmation:t,reset_hash:e});if(s){const{bearer:i,redirect_url:c}=s.data.success;localStorage.setItem("token",i.token),window.token=i.token,typeof r.loginAction=="function"?r.loginAction({token:i.token}):this.$emit("set",l(n({},m.ACCOUNT_RESTORED),{data:{redirect_url:c}}))}}else{const{username:a}=this.formData,t=yield r.restore({username:a});if(t){const{channel:e,mask:s,hash:i}=t.data;this.$emit("set",l(n({},m.AUTHORIZATION_BY_CODE),{previous:l(n({},m.RESTORE_ACCOUNT),{data:this.formData,previous:this.previous}),data:{mask:s,channel:e,username:a,hash:i,is_restore:!0}}))}}}catch(a){const{message:t,errors:e}=a.response.data;if(this.message=t,e)for(const s of Object.keys(this.errors))e.hasOwnProperty(s)&&(this.$set(this.errors,s,e[s]),this.$forceUpdate());else this.errors={username:[],password:[],password_confirmation:[]}}finally{this.$emit("loading",!1)}})},displayMessage(){return this.message&&!this.errors.username.length&&!this.errors.password.length&&!this.errors.password_confirmation.length}}};var bt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"auth-restore"},[e("form",{on:{submit:function(s){s.stopPropagation(),s.preventDefault()},keydown:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.submit.apply(null,arguments)}}},[e("public-modal-title",[t._v(" "+t._s(t.$t("restore_account"))+" ")]),t.data.reset_hash?[e("input",{staticClass:"hidden-field",attrs:{name:"email",autocomplete:"username email",type:"text"},domProps:{value:t.data.username}}),e("public-modal-description",{staticClass:"mt-6",attrs:{large:""}},[t._v(" "+t._s(t.$t("create_new_password"))+" ")]),e("DefaultPasswordInput",{staticClass:"mt-30",attrs:{autocomplete:"new-password",required:!0,errors:t.errors.password,label:t.$t("enter_password")},model:{value:t.formData.password,callback:function(s){t.$set(t.formData,"password",s)},expression:"formData.password"}}),e("DefaultPasswordInput",{staticClass:"mt-16",attrs:{name:"password_confirmation",autocomplete:"new-password",required:!0,errors:t.errors.password_confirmation,label:t.$t("repeat_password")},model:{value:t.formData.password_confirmation,callback:function(s){t.$set(t.formData,"password_confirmation",s)},expression:"formData.password_confirmation"}}),t.displayMessage()?e("div",{staticClass:"error"},[t._v(" "+t._s(t.message)+" ")]):t._e(),e("public-modal-buttons-container",{staticClass:"mt-30"},[e("PublicModalButtonPrev",{attrs:{text:t.$t("back")},on:{click:function(s){return t.$emit("set",t.previous)}}}),e("PublicModalButtonNext",{attrs:{text:t.$t("next"),disabled:!t.formData.password},on:{click:t.submit}})],1)]:[e("DefaultInput",{staticClass:"mt-30",attrs:{errors:t.errors.username,type:"email",name:"email","use-focus":!0,autocomplete:"email",required:!0,label:t.$t("enter_username")},model:{value:t.formData.username,callback:function(s){t.$set(t.formData,"username",s)},expression:"formData.username"}}),t.displayMessage()?e("div",{staticClass:"error"},[t._v(" "+t._s(t.message)+" ")]):t._e(),e("div",{staticClass:"mb-30"}),e("public-modal-buttons-container",[e("PublicModalButtonPrev",{attrs:{text:t.$t("back")},on:{click:function(s){return t.$emit("set",t.previous)}}}),e("PublicModalButtonNext",{attrs:{text:t.$t("next"),disabled:!t.formData.username},on:{click:t.submit}})],1)]],2)])},kt=[],Ot=C(yt,bt,kt,!1,null,"94f0779e",null,null);const $t=Ot.exports,At={methods:{isRequiredFieldsFilled(a){return!a.filter(t=>t.is_required&&!t.value).length}}};const It=new URLSearchParams(location.search),Tt={props:{data:{type:Object,default:()=>({step:null})},previous:{type:Object,default:()=>{}},additionalFields:{type:Object,default:()=>null}},name:"AuthorizationDynamicFlow",mixins:[At],components:{ExtendedRenderHtml:D,PublicModalDescription:w,PublicModalButtonNext:h,PublicModalButtonPrev:b,PublicModalButtonsContainer:k,AuthorizationDynamicFields:R,PublicModalTitle:g},data(){return{errors:{},message:""}},created(){const a=It.get("tel");if(a&&this.step&&this.step.fields)for(const t of this.step.fields)t.type==="phone"&&(t.value=a,this.$forceUpdate())},computed:{step(){return this.data.step}},methods:{getLastField(){return this.step.fields[this.step.fields.length-1]},submit(){return d(this,null,function*(){this.$emit("loading",!0);try{const a=yield r.register({url:this.step.registration_endpoint,payload:this.mapFieldsToPayload()});if(a){window.dataLayer&&window.dataLayer.push({event:window.app_subdomain?"school-auth-btn2":"auth-btn2"}),window.fbq&&window.fbq("track","CompleteRegistration"),window.ttq&&window.ttq.track("CompleteRegistration");const{bearer:t,redirect_url:e}=a.data;localStorage.setItem("token",t.token),window.token=t.token,typeof r.loginAction=="function"?r.loginAction({token:t.token}):e?window.location=e:window.location.reload()}}catch(a){const{message:t,errors:e}=a.response.data;this.message=t,e?this.errors=e:this.errors={}}finally{this.$emit("loading",!1)}})},mapFieldsToPayload(){const a=new FormData;if(this.step.fields.forEach(t=>{t.type==="timezone"||t.type==="currency"||t.type==="dropdown"||t.type==="country"?t.value&&a.append(t.name,t.value.id):a.append(t.name,t.value)}),this.additionalFields)for(const[t,e]of Object.entries(this.additionalFields))a.append(t,e);return a},displayMessage(){return this.message&&!Object.keys(this.errors).length}}};var Dt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"dynamic-flow"},[t.step.title?e("public-modal-title",[t._v(" "+t._s(t.step.title)+" ")]):t._e(),t.step.sub_title?e("public-modal-description",{staticClass:"mt-6",attrs:{large:""}},[e("span",{domProps:{innerHTML:t._s(t.step.sub_title)}})]):t._e(),e("form",{attrs:{id:"signup",autocomplete:"on"},on:{keypress:function(s){if(!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter"))return null;s.stopPropagation(),s.preventDefault()},submit:function(s){s.preventDefault(),s.stopPropagation()}}},[t.getLastField().type==="email"?e("input",{staticClass:"hidden-field",attrs:{name:"email",autocomplete:"username email",type:"text"},domProps:{value:t.getLastField().value}}):t._e(),t.step.fields.length?e("AuthorizationDynamicFields",{staticClass:"mt-30",attrs:{errors:t.errors,fields:t.step.fields}}):t._e(),t.displayMessage()?e("div",{staticClass:"error"},[t._v(" "+t._s(t.message)+" ")]):t._e(),e("public-modal-buttons-container",{staticClass:"mt-30"},[t.previous?e("PublicModalButtonPrev",{attrs:{text:t.$t("back")},on:{click:function(s){return t.$emit("set",t.previous)}}}):t._e(),e("PublicModalButtonNext",{attrs:{text:t.$t("next"),disabled:!1},on:{click:t.submit}})],1)],1),t.step.policy?e("public-modal-description",{staticClass:"mt-16"},[e("ExtendedRenderHtml",{attrs:{html:`<pre class='text-view'> ${t.step.policy} </pre>`}})],1):t._e()],1)},Rt=[],Lt=C(Tt,Dt,Rt,!1,null,"bececfd8",null,null);const xt=Lt.exports;const Pt={props:{data:{type:Object,default:()=>({redirect_url:""})}},name:"InformAccountRestored",components:{FlexContainer:$,PublicModalButtonNext:h,MountainsInformImg:x,PublicModalTitle:g},methods:{gate(){window.location=this.data.redirect_url}}};var Et=function(){var t=this,e=t._self._c;return e("div",{staticClass:"inform-account-restored"},[e("public-modal-title",{staticClass:"mb-20"},[t._v(" "+t._s(t.$t("account_restored"))+" ")]),e("flex-container",{attrs:{justify:"center"}},[e("MountainsInformImg")],1),e("PublicModalButtonNext",{staticClass:"mt-30",attrs:{text:t.$t("enter")},on:{click:t.gate}})],1)},St=[],Ft=C(Pt,Et,St,!1,null,"44e0727b",null,null);const Mt=Ft.exports,qt={STATIC_AUTHORIZATION:dt,AUTHORIZATION_BY_CODE:ft,AUTHORIZATION_BY_PASSWORD:vt,RESTORE_ACCOUNT:$t,DYNAMIC_FLOW:xt,ACCOUNT_RESTORED:Mt,PRODUCT_PRERECORDING:et};export{xt as A,m as F,et as I,Mt as a,vt as b,$t as c,ft as d,dt as e,qt as f,r as g};
//# sourceMappingURL=flow-views.64318510.js.map
