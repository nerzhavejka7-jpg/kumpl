var m=Object.defineProperty,v=Object.defineProperties;var p=Object.getOwnPropertyDescriptors;var y=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable;var g=(a,t,e)=>t in a?m(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e,o=(a,t)=>{for(var e in t||(t={}))L.call(t,e)&&g(a,e,t[e]);if(y)for(var e of y(t))$.call(t,e)&&g(a,e,t[e]);return a},d=(a,t)=>v(a,p(t));var f=(a,t,e)=>(g(a,typeof t!="symbol"?t+"":t,e),e);var s=(a,t,e)=>new Promise((c,r)=>{var n=i=>{try{u(e.next(i))}catch(l){r(l)}},_=i=>{try{u(e.throw(i))}catch(l){r(l)}},u=i=>i.done?c(i.value):Promise.resolve(i.value).then(n,_);u((e=e.apply(a,t)).next())});import{d as x}from"./axios.98430d30.js";const w=x.create({baseURL:"/api/v1/",headers:{}});class h{constructor(){f(this,"languages",[]);f(this,"currencies",[])}static changeLanguage(t){return s(this,null,function*(){window.location=`/locale/${t}`})}static changeCurrency(t){window.location=`/currency/${t}`}static languages(t=!0){return s(this,null,function*(){let e=[];if(this.languages.length?e=this.languages:e=(yield w.get(`/languages?timestamp=${new Date().getTime()}`)).data.data,e){if(t){const c=yield h.currentLanguage();e=[d(o({},e.find(r=>r.iso_2===c)),{is_active:!0}),...e.filter(r=>r.iso_2!==c).map(r=>d(o({},r),{is_active:!1}))]}return e}})}static currencies(t=!1){return s(this,null,function*(){let e=[];if(this.currencies.length?e=this.currencies:e=(yield w.get("/currencies/main")).data.data,e){if(t){const c=yield h.currentCurrency(),r=e.find(n=>n.id===c.id);r?r.is_active=!0:e[0].is_active=!0,e.filter(n=>!n.is_active).forEach(n=>n.is_active=!1)}return e}})}static currentCurrency(){return s(this,null,function*(){if(window.current_currency)return window.current_currency;const t=yield w.get("/currencies/current");if(t)return t.data.data})}static currentLanguage(){return s(this,null,function*(){return window.app_current_locale})}}export{h as L};
//# sourceMappingURL=localization-repository.c5978b35.js.map
